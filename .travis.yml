language: r
cache: packages

os:
- linux
- osx

before_install:
- if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo add-apt-repository -y ppa:mc3man/trusty-media; fi
- if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get update; fi
- if [ "$TRAVIS_OS_NAME" == "linux" ]; then sudo apt-get install -y ffmpeg; fi

r_packages:
- data.table
- ggplot2
- rsvg
- grImport2
- ggpubr
- RColorBrewer
- gifski
- av

bioc_packages:
- IRanges
- DOSE
- org.Mm.eg.db
- org.Hs.eg.db
- org.Rn.eg.db
- org.Dr.eg.db
- org.Sc.sgd.db
- clusterProfiler

addons:
  apt:
    update: true
    sources:
      - sourceline: 'ppa:opencpu/imagemagick'
      - sourceline: 'ppa:ubuntugis/ppa'
    packages:
      - libmagick++-dev
      - librsvg2-dev
      - libwebp-dev
      - libpoppler-cpp-dev
      - libtesseract-dev
      - libleptonica-dev
      - tesseract-ocr-eng
      - r-cran-rgdal
      - libfftw3-dev
      - cargo
      - libnlopt-dev
      - libavfilter-dev

notifications:
    email:
    on_success: never
on_failure: never

warnings_are_errors: false
